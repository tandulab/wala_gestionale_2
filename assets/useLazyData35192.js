import{l as K}from"../index35192.js";var m=(i=>(i.LIKE="like",i.EQ="eq",i))(m||{});const v=(i,O,o)=>{var u,w,F;const y=K(!1),r={first:0,page:o?(o==null?void 0:o.first)/i.rows:0,rows:i.rows,filters:(u=o==null?void 0:o.filters)!=null?u:void 0,sortField:(w=o==null?void 0:o.sortField)!=null?w:void 0,sortOrder:(F=o==null?void 0:o.sortOrder)!=null?F:void 0},l=function(){const s={};return r.filters&&Object.entries(r.filters).forEach(([n,d])=>{var p,f;d.value&&(d.matchMode===m.LIKE?s[`${(p=d.customFilterKey)!=null?p:n}_like`]=d.value:s[`${(f=d.customFilterKey)!=null?f:n}_eq`]=d.value)}),s.page=r.page+1,s.limit=r.rows,r.sortField&&(s.sort_by=r.sortField,s.sort_direction=r.sortOrder===1?"asc":"desc"),s},c=async function(){y.value=!0;const s=l();try{await O(s)}finally{y.value=!1}},L=async function(s){r.page=0,r.filters=s,await c()},a=async s=>{var d;const n=s.sortField&&typeof s.sortField=="string"?(d=i==null?void 0:i.customSortableFields)==null?void 0:d[s.sortField]:null;r.sortField=n!=null?n:s.sortField,r.sortOrder=s.sortOrder,await c()},E=async s=>{r.rows=s.rows,r.page=s.page,r.first=s.first,await c()};return{isLoading:y,tableRows:i.rows,onFilter:L,onSort:a,onPage:E,loadLazyData:c}};export{m as T,v as u};
